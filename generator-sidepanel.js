const fs = require('fs');
const folderPath = 'sidepanel/lib';
const files = fs.readdirSync(folderPath)
    .filter(file => file.endsWith('.js'))
    .map(file => `${folderPath}/${file}`);
const outputFile = 'sidepanel/index.js';


let content = `  
// WARNING: THIS IS AUTOGENERATED FILE!
// WARNING: Modify instead /sidepanel/lib/*.js files 
// Do not modify this file\n

 `
console.warn('generator-sidepanel:> Generating and concatenating all js as `index.js`')
content += files.map(file => fs.readFileSync(file, 'utf8')).join('\n');
fs.writeFileSync(outputFile, content);
console.warn('generator-sidepanel:> SUCCESS`')

